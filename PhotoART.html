<head>
<meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="goal"style="text-align:center;">
<div>
<img height="100"src="https://nagasasank.files.wordpress.com/2023/11/photoart8018303127118823972.jpg?w=768">
<h3 style="font-family:times new roman;">Photo ART</div>
</h3></div>
<hr>
    <div style="background-size:cover;background-image:url('data:image/jpeg;base64,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')"class="container disable">
        <div class="wrapper">
            <div class="editor-panel">
                <div class="filter">
                    <label class="title"style="font-size:30px;">Filters</label>
                    <div class="options">
                        <button style="background-color:cyan;font-size:20px;"id="brightness" class="active">Brightness</button>
                        <button style="background-color:cyan;font-size:20px;"id="saturation">Saturation</button>
                        <button style="background-color:cyan;font-size:20px;"id="inversion">Inversion</button>
                        <button style="background-color:cyan;font-size:20px;"id="grayscale">Grayscale</button>
                        </div>
                        <div class="options">
                        <button style="background-color:cyan;font-size:20px;"onclick="sepia()"id="sepia">Sepia</button>
                        <button style="background-color:cyan;font-size:20px;"id="blur">Blur</button>
                        <button style="background-color:cyan;font-size:20px;"id="opacity">Opacity</button>
                        <button style="background-color:cyan;font-size:20px;"id="hue">hue</button>
                        </div>
                    <div class="slider">
                        <div style="background-size:cover;background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfbWDpgDPJTRbd2PaLc8bQncZNccvRTUKx1SgolMNwiApvHRZuvjsOmLQz&s=10');" class="filter-info">
                            <p class="name"style="font-size:30px;">Brightness</p>
                            <p class="value"style="font-size:30px;">100%</p>
                        </div>
                        <input style="height:30px;width:300px;"type="range" value="100" min="0" max="200">
                    </div>
                </div>
                <div class="rotate">
                    <label class="title" style="font-size:30px;">Rotate & Flip</label>
                    <div class="options">
                        <button style="height:30px;width:30px;background-size:cover;background-image:URL('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSBuNbAvy-RKhTlGtenWTYAcIIjP4-pCTUX5wrbqJVYkgqO0_ESKDIapjUm&s=10');"id="left"><i class="fa-solid fa-rotate-left"> </i></button>
                        <button style="height:30px;width:30px;background-size:cover;background-image:URL('https://www.shareicon.net/data/2016/11/14/851961_right_512x512.png');"id="right"><i class="fa-solid fa-rotate-right"></i></button>
                        <button style="height:30px;width:30px;background-size:cover;background-image:URL('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCBVCigYRvkaPu_oLPRKfshIF9lDeGnLw3dQ&usqp=CAU');"id="horizontal"><i class="bx bx-reflect-horizantal"></i></button>
                        <button style="height:30px;width:30px;background-size:cover;background-image:URL('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBZGNgvpnJ0TJmMMqp9C8FaYTXceXi9-eYdg&usqp=CAU');"id="vertical"><i class="bx bx-reflect-vertical" ></i></button>
                        
                    </div><p>
                </div>
            </div>
            <button id="crop">crop</button>
            <button>text</button>
            <div class="preview-img"style="height:600px;background-size:cover;background-image:url('/storage/emulated/0/Download/images (7).jpeg');">
                <br style="line-height:140px;"><img id="preview"style="object-fit:contain;height:300px; width:300px;" src="https://images.vexels.com/media/users/3/131734/isolated/preview/05d86a9b63d1930d6298b27081ddc345-photo-preview-frame-icon.png" id="image"alt="preview-img">
            </div><p>
        </div>
        <div class="controls">
            <button style="width:200px;border-color:gray;background-color:black;font-size:25px;color:white;"class="reset-filter">RESET ALL</button><p>
            <div class="row">
                <input type="file" class="file-input" accept="image/*" hidden>
                <button style="font-size:30px;border-color:none;height:80px;width:300px;background-color:orange;color:white;border-color:white;border-width:3px;font-family:times new roman;"id="choose"class="choose-img">CHOOSE IMAGE</button><br><p>
                <button style="font-size:30px;border-radius:20px;border-color:gold;background-color:green;color:white;height:80px;width:300px;border-width:5px;"class="save-img">SAVE IMAGE</button>
            </div>
        </div>
    </div>
  </div>
  </body>
  <style>
 @media screen and (max-width: 400px){
  button {
  border-color:black;
  }
  button:active{
  transform: scale(0.85);
  border-color:white;
  }
  #brightness{
  background-size:100%;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  #saturation{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  #hue{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  #inversion{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  #grayscale{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  #sepia{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  #opacity{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  #blur{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMoEg40VFsss-WqiN17xTQ5BC8tz8yFOmenA&usqp=CAU')
  }
  body{
  font-family:monospace;}
  .choose-img{
  background-size:cover;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSlIe2ystHzLpIJHoWA3R8rl7y3rgppnAUM0g&usqp=CAU');
  }
  .save-img{
  background-size:contain;
  background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSHj0Lp6O7YQbahErFsCgBXz5HnDe1NP1pHQ&usqp=CAU');
  }
  }
  
  </style>
<script>
const fileInput = document.querySelector(".file-input"),
filterOptions = document.querySelectorAll(".filter button"),
filterName = document.querySelector(".filter-info .name"),
filterValue = document.querySelector(".filter-info .value"),
filterSlider = document.querySelector(".slider input"),
rotateOptions = document.querySelectorAll(".rotate button"),
previewImg = document.querySelector(".preview-img img"),
resetFilterBtn = document.querySelector(".reset-filter"),
chooseImgBtn = document.querySelector(".choose-img"),
saveImgBtn = document.querySelector(".save-img");
alert("");

let brightness = "100", saturation = "100", inversion = "0", grayscale = "0", sepia="0", opacity="0", blur="0", hue="0";
let rotate = 0, flipHorizontal = 1, flipVertical = 1;

const loadImage = () => {
    let file = fileInput.files[0];
    if(!file) return;
    previewImg.src = URL.createObjectURL(file);
    previewImg.addEventListener("load", () => {
        resetFilterBtn.click();
        document.querySelector(".container").classList.remove("disable");
    });
}

const applyFilter = () => {
    previewImg.style.transform = `rotate(${rotate}deg) scale(${flipHorizontal}, ${flipVertical})`;
 previewImg.style.filter = `brightness(${brightness}%) saturate(${saturation}%) invert(${inversion}%) grayscale(${grayscale}%) sepia(${sepia}%) opacity(${opacity}%) blur(${blur}%) hue-rotate(${hue}deg)`;
 }

filterOptions.forEach(option => {
    option.addEventListener("click", () => {
        document.querySelector(".active").classList.remove("active");
        option.classList.add("active");
        filterName.innerText = option.innerText;

        if(option.id === "brightness") {
            filterSlider.max = "200";
            filterSlider.value = brightness;
            filterValue.innerText = `${brightness}%`;
        } else if(option.id === "saturation") {
            filterSlider.max = "200";
            filterSlider.value = saturation;
            filterValue.innerText = `${saturation}%`;
        } else if(option.id === "inversion") {
            filterSlider.max = "100";
            filterSlider.value = inversion;
            filterValue.innerText = `${inversion}%`;
        } else if(option.id ==="grayscale"){
            filterSlider.max = "100";
            filterSlider.value = grayscale;
            filterValue.innerText = `${grayscale}%`;
        }
       
    });
});

const updateFilter = () => {
    filterValue.innerText = `${filterSlider.value}%`;
    const selectedFilter = document.querySelector(".filter .active");

    if(selectedFilter.id === "brightness") {
        brightness = filterSlider.value;
    } else if(selectedFilter.id === "saturation") {
        saturation = filterSlider.value;
    } else if(selectedFilter.id === "inversion") {
        inversion = filterSlider.value;
    } else if(selectedFilter.id === "grayscale"){
        grayscale = filterSlider.value;
    } 
    applyFilter();
}

rotateOptions.forEach(option => {
    option.addEventListener("click", () => {
        if(option.id === "left") {
            rotate -= 90;
        } else if(option.id === "right") {
            rotate += 90;
        } else if(option.id === "horizontal") {
            flipHorizontal = flipHorizontal === 1 ? -1 : 1;
        } else {
            flipVertical = flipVertical === 1 ? -1 : 1;
        }
        applyFilter();
    });
});

const resetFilter = () => {
    brightness = "100"; saturation = "100"; inversion = "0"; grayscale = "0"; sepia="0"; opacity="0"; blur="0"; hue="0";
    rotate = 0; flipHorizontal = 1; flipVertical = 1;
    filterOptions[0].click();
    applyFilter();
}

const saveImage = () => {
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = previewImg.naturalWidth;
    canvas.height = previewImg.naturalHeight;
    
    ctx.filter = `brightness(${brightness}%) saturate(${saturation}%) invert(${inversion}%) grayscale(${grayscale}%) `;
    ctx.translate(canvas.width / 2, canvas.height / 2);
    if(rotate !== 0) {
        ctx.rotate(rotate * Math.PI / 180);
    }
    ctx.scale(flipHorizontal, flipVertical);
    ctx.drawImage(previewImg, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);
    
    const link = document.createElement("a");
    link.download = "PhotoART.jpg";
    link.href = canvas.toDataURL();
    link.click();
}

filterSlider.addEventListener("input", updateFilter);
resetFilterBtn.addEventListener("click", resetFilter);
saveImgBtn.addEventListener("click", saveImage);
fileInput.addEventListener("change", loadImage);
chooseImgBtn.addEventListener("click", () => fileInput.click());


</script>